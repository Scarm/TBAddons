<Ui xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns="http://www.blizzard.com/wow/ui/">
	<Script file="Frames.lua" />

    <!--
    <Frame name="AutomatonEventFrame" parent="UIParent">
        <Scripts>
			<OnLoad>
                Automaton:OnLoad(self) 
			</OnLoad>
			<OnEvent>
                Automaton:OnEvent(event,...) 
			</OnEvent>
			<OnUpdate>
				Automaton:OnUpdate()
			</OnUpdate>
		</Scripts>
	</Frame>
    

    <Frame name="AutomatonRaidFrame" parent="UIParent">
        <Scripts>
			<OnLoad>
                Raid:OnLoad(self) 
			</OnLoad>
			<OnEvent>
				Raid:OnEvent(event,...)
			</OnEvent>
            			
            <OnUpdate>
				Raid:OnUpdate()
			</OnUpdate>
		</Scripts>
    </Frame>
    -->
    
    <Frame name="AutomatonMemberTemplate" virtual="true">
        
        <Size>
            <AbsDimension y="15"/>
        </Size> 
        
         <Anchors>
            <Anchor point="LEFT" relativeTo="$parent" relativePoint="LEFT">
                <Offset x="5" y="0" />
            </Anchor>

            <Anchor point="RIGHT" relativeTo="$parent" relativePoint="RIGHT">
                <Offset x="-5" y="0" />
            </Anchor>

        </Anchors>  
        <Layers>            
            <Layer level="BACKGROUND">
                <Texture name="$parentBackTex" parentKey="BackTex">                         
                    <Anchors>
                        <Anchor point="TOPLEFT"/>
                        <Anchor point="BOTTOMRIGHT"/>
                    </Anchors>
                    <Color g="0" r="1" b="0" a="1"/>                    
                </Texture>                
            </Layer>
            <Layer level="NORMAL">
                <Texture name="$parentTex" parentKey="Tex">                         
                    <Anchors>
                        <Anchor point="TOPLEFT"/>
                        <Anchor point="BOTTOMRIGHT"/>
                    </Anchors>
                    <Color g="1" r="0" b="0" a="1"/>                    
                </Texture>                
            </Layer>            
        </Layers>
    </Frame>
    
    
    <Frame name="AutomatonGroupTemplate" virtual="true">
        <Size>
            <AbsDimension x="100" y="50"/>
        </Size>         
        <Anchors>
            <Anchor point="TOP" relativeTo="UIParent" relativePoint="CENTER">
                <Offset x="0" y="0" />
            </Anchor>            
        </Anchors>                
        <Layers>
            <Layer level="BACKGROUND">
                <Texture name="$parentTex" parentKey="Tex">                         
                    <Anchors>
                        <Anchor point="TOPLEFT"/>
                        <Anchor point="BOTTOMRIGHT"/>
                    </Anchors>
                    <Color g="1" r="1" b="1" a="0.1"/>                    
                </Texture>
                </Layer>
        </Layers>              
    </Frame>
    
 

	<Button name="AutomatonFrameTemplate" virtual="true" 
        inherits="SecureActionButtonTemplate" FrameStrata="HIGH">
        <Size>
            <AbsDimension x="5" y="5"/>
        </Size>
		<Layers>
            <Layer level="BACKGROUND">
                <Texture name="$parentTex" parentKey="Tex">
					<Anchors>
                        <Anchor point="TOPLEFT"/>
						<Anchor point="BOTTOMRIGHT"/>
                    </Anchors>
				</Texture>
            </Layer>
		</Layers>
	</Button>	
	
	<Frame name="AutomatonFrame" parent="UIParent" FrameStrata="HIGH">
	<Anchors>
		<Anchor point="TOPLEFT"></Anchor>
	</Anchors>
		<Size>
			<AbsDimension x="245" y="10" />
		</Size>		
		<Layers>
            <Layer level="BACKGROUND">
                <Texture name="$parentTex" parentKey="Tex">	
					<Anchors>
                        <Anchor point="TOPLEFT"/>
						<Anchor point="BOTTOMRIGHT"/>
                    </Anchors>
                    <Color g="0" r="1" b="0"/>                    
				</Texture>
                </Layer>
		</Layers>
        
		<Scripts>
			<OnLoad>
				AutomatonIndicator:OnLoad(self)
			</OnLoad>
		</Scripts>
	</Frame>

	<CheckButton name="ModeButtonTemplate" inherits="ActionButtonTemplate" virtual="true">
		<Scripts>
			<OnLoad>
				self:RegisterForClicks("LeftButtonUp", "RightButtonUp")
			</OnLoad>
            <OnClick>
                AutomatonPanel:OnClick(self,button)
            </OnClick> 
		</Scripts>
	</CheckButton>

    <Frame name="AutomatonModesFrame" parent="UIParent" toplevel="true" enableMouse="true" Movable="true">
		<Size>
			<AbsDimension x="270" y="68" />
		</Size>
		<Anchors>
			<Anchor point="CENTER">
				<Offset x="0" y="0" />
			</Anchor>
		</Anchors>
		<Backdrop bgFile="Interface\DialogFrame\UI-DialogBox-Background" edgeFile="Interface\DialogFrame\UI-DialogBox-Border" tile="true">
			<BackgroundInsets>
				<AbsInset left="11" right="12" top="12" bottom="11" />
			</BackgroundInsets>	
		</Backdrop>

		<Scripts>
			<OnLoad>
				self:RegisterForDrag("RightButton")
                self:RegisterEvent("SPELL_UPDATE_COOLDOWN")
                self:RegisterEvent("UNIT_SPELLCAST_START")
                self:RegisterEvent("UNIT_SPELLCAST_SUCCEEDED")
                AutomatonPanel:OnLoad(self)	
			</OnLoad> 
            <OnDragStart>
				self:StartMoving()
            </OnDragStart>
            <OnDragStop>
				self:StopMovingOrSizing()
            </OnDragStop>
            <OnEvent>
				AutomatonPanel:OnEvent(event,...)
			</OnEvent>
		</Scripts> 
	</Frame>
</Ui>
    
