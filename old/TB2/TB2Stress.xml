<Ui xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns="http://www.blizzard.com/wow/ui/">
	<Script file="TB2Stress.lua" />
	
    
    <Frame name="TB2StressPlayer" virtual="true">
		<Size>
			<AbsDimension x="70" y="40" />
		</Size>
        <Layers>
            <Layer level="BACKGROUND">
                <Texture name="$parentTex" parentKey="Tex">
					<Anchors>
                        <Anchor point="TOPLEFT"/>
						<Anchor point="BOTTOMRIGHT"/>
                    </Anchors>
                    <Color r="1" g="0" b="0" a="1" />
				</Texture>
                <FontString name="$parentDPS" text="-" inherits="NumberFontNormal" parentKey="DPS">
            		<Size>
            			<AbsDimension x="70" y="20" />
            		</Size>                    
                    <Anchors>
                        <Anchor point="TOP"/>
                    </Anchors>
                </FontString> 
                 <FontString name="$parentHPS" text="-" inherits="NumberFontNormal" parentKey="HPS">
            		<Size>
            			<AbsDimension x="70" y="20" />
            		</Size>                    
                    <Anchors>
                        <Anchor point="TOP">
                            <Offset x="0" y="-20" /> 
                        </Anchor>
                    </Anchors>
                </FontString>                 
            </Layer>
		</Layers>
        <Scripts>
            <OnLoad>
                self:RegisterEvent("COMBAT_LOG_EVENT_UNFILTERED")
                self.DPS:SetText("0") 
                self.HPS:SetText("0") 
                self.Damage = {} 
                self.Heal = {} 
            </OnLoad> 
            <OnEvent>
                if event=="COMBAT_LOG_EVENT_UNFILTERED" then
                    TB2Stress:OnLogEvent(self,event,...)
                end 
            </OnEvent>
            <OnUpdate>
                TB2Stress:OnUpdate(self)
            </OnUpdate>
        </Scripts>                
    </Frame>   
    <Frame name="TB2StressFrame" parent="UIParent" toplevel="true" enableMouse="true" Movable="true">
		<Size>
            <AbsDimension x="100" y="50" />
		</Size>
		<Anchors>
			<Anchor point="CENTER">
				<Offset x="0" y="0" />
			</Anchor>
		</Anchors>
        <Layers>
            <Layer level="BACKGROUND">
                <FontString name="$parentCounter" text="Text" inherits="NumberFontNormal" parentKey="Counter">
            		<Size>
            			<AbsDimension x="70" y="20" />
            		</Size>                    
                    <Anchors>
 					<Anchors>
                        <Anchor point="TOPLEFT"/>
						<Anchor point="BOTTOMRIGHT"/>
                    </Anchors>
                    </Anchors>
                </FontString> 
            </Layer>
		</Layers>

		<Backdrop bgFile="Interface\DialogFrame\UI-DialogBox-Background" edgeFile="Interface\DialogFrame\UI-DialogBox-Border" tile="true">
			<BackgroundInsets>
				<AbsInset left="11" right="12" top="12" bottom="11" />
			</BackgroundInsets>	
		</Backdrop>


		<Scripts>
			<OnLoad>
                self:RegisterForDrag("RightButton")
                self:RegisterEvent("COMBAT_LOG_EVENT_UNFILTERED")
                self:RegisterEvent("UPDATE_MOUSEOVER_UNIT")
                self:RegisterEvent("PLAYER_REGEN_ENABLED")
                self:RegisterEvent("PLAYER_REGEN_DISABLED") 
            </OnLoad> 
            <OnDragStart>
				self:StartMoving()
            </OnDragStart>
            <OnDragStop>
				self:StopMovingOrSizing()
            </OnDragStop>
			<OnEvent>
                TB2Stress:MobCounter(self,event,...)
                TB2Stress:PrevCastScan(self,event,...)
			</OnEvent>
            <OnUpdate>
                TB2Stress:UpdCastScan(self)
            </OnUpdate>
		</Scripts> 
	</Frame>
</Ui>
